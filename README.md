# TTNormDataName

## 批量文件重命名工具

这是一个专门用于规范化文件名格式的Python工具，特别适用于批量处理包含手机型号和测试点位信息的文件。

## 功能特点

- **自动识别与规范化**：自动识别文件名中的手机型号和点位序号，输出格式统一为：`组别-序号_手机型号_第N个点`
- **多数字格式支持**：智能识别中文数字（一、二、三...）、大写中文数字（壹、贰、叁...）和阿拉伯数字
- **手机型号分组**：支持将不同别名的手机型号归类到固定组别，并在文件名前添加组别标识
- **优先使用型号**：在存在多个型号匹配时，优先使用第一个匹配到的型号
- **非法字符清理**：自动清理文件名中的Windows非法字符
- **递归处理**：支持递归处理子文件夹中的文件
- **安全操作**：默认提供预览模式，确认后再执行重命名操作
- **唯一性保证**：自动处理文件名冲突，确保重命名后的文件不会相互覆盖

## 安装需求

- Python 3.6 或更高版本
- 无需安装额外依赖库

## 使用方法

### 基本使用

在脚本所在目录直接运行：

```bash
python norm_name.py
```

这将在当前目录下（非递归）扫描并显示可重命名的文件预览，需要手动确认是否执行。

### 命令行参数

```
-h, --help              显示帮助信息
-d DIR, --dir DIR       指定目标文件夹路径（默认：脚本所在目录）
-r, --recursive         递归处理子文件夹
--apply, -y             直接执行重命名（无此参数则仅预览并询问）
```

### 示例

1. **在指定目录执行（预览模式）**：
   ```bash
   python norm_name.py -d D:\test_files
   ```

2. **递归处理子文件夹并直接执行**：
   ```bash
   python norm_name.py -d D:\test_files -r --apply
   ```

3. **在当前目录递归处理并直接执行**：
   ```bash
   python norm_name.py -r -y
   ```

## 工作原理

1. **文件解析**：通过正则表达式识别文件名中的手机型号和点位信息
2. **型号匹配**：将识别的手机型号与预定义的型号分组映射进行匹配
3. **数字转换**：将各种形式的数字（阿拉伯数字、中文数字、大写中文数字）统一转换为中文数字
4. **命名规范化**：按照`组别-序号_手机型号_第N个点`的格式生成新文件名
5. **冲突处理**：确保生成的新文件名唯一，避免文件覆盖

## 自定义手机型号分组

可以在脚本的`PHONE_GROUPS`字典中自定义手机型号分组：

```python
PHONE_GROUPS = {
    '1-1': ['小米15', 'xiaomi15'],
    '1-2': ['一加13', 'oneplus13'],
    # ... 更多分组配置
}
```

格式为：`'组别-序号': ['手机型号1', '手机型号2', ...]`，每组中可以包含多个别名，系统会自动将它们映射到同一组别。

## 输入输出示例

#### 输入输出示例
输入：
```
adhfk%^&55688 --- p60_第五个点位 --- fdadf.txt
）（&Y…… --- magic7_第叁个点位 --- 13515.txt
!@#$% --- vivo  iQOO13_第1个点 --- 哈哈哈哈.txt
```

输出：
```
4-1_华为p60_第五个点.txt
2-3_荣耀magic7_第三个点.txt
1-4_vivo iqoo13_第一个点.txt
```

## 注意事项

1. **文件安全**：默认情况下工具会先显示预览，需用户确认后才执行重命名
2. **文件名匹配**：工具依赖特定的文件名模式，需包含"手机型号"和"第N个点"等关键信息
3. **Windows系统**：工具会自动处理Windows系统的非法文件名字符
4. **自定义需求**：如需调整匹配规则或输出格式，请修改脚本中的相应正则表达式和格式化部分

## 开发与维护

- 作者：[MorphBai]（如需添加）
- 版本：1.0
- 最后更新：[2025-09-17]（如需添加）
